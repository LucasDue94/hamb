<nav class="nav-container">
  <a [routerLink]="['/agenda', 'show', this.dataAgenda]" class="back">
    <fa-icon [icon]="['fas','arrow-left']"></fa-icon>
    Voltar
  </a>
  <p class="title-main">Hist√≥rico</p>
</nav>
<section class="container-atendimento">
  <article *ngFor="let atendimento of atendimentos" class="card">
    <p class="content-card">{{atendimento.conteudo}}</p>
    <footer class="footer-card">
      <span class="data">{{dateToString(atendimento?.dataAtendimento)}}</span>
      <span class="cid">{{atendimento.cid.diagnostico}}</span>
      <span class="usuario">CRM: {{atendimento.usuario.crm}} - {{atendimento.usuario.nome}}</span>
    </footer>
  </article>
</section>
<section class="atendimento-form">
  <textarea [(ngModel)]="conteudo" class="form-control" name="" id="conteudo" cols="30"
            rows="10"></textarea>
  <div class="container-buttons">
    <div [ngClass]="{'valid-cid' : cid.id!=null}" class="cid-container" (click)="search()">
      <fa-icon class="cid-icon" [icon]="['fas','book-medical']"></fa-icon>
      <span class="cid-selected">{{cid.diagnostico}}</span>
    </div>
    <button (click)="save()" class="button btn-save">Salvar</button>
  </div>
  <div class="container-search" *ngIf="activeSearch">
    <fast-search (getData)="selectCid($event)" [service]="cidService" [fields]="['id','diagnostico']"
                 [widthField]="['1','3']"></fast-search>
  </div>
</section>
<ngx-spinner bdColor="rgba(255,255,255, 0.7)" color="#4DC2B3" size="medium" type="ball-pulse">
  <p class="spinner-title">Carregando...</p>
</ngx-spinner>
